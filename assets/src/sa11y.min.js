/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /gh/ryersondmp/sa11y@2.1.6/src/sa11y.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
/*-----------------------------------------------------------------------
* Sa11y: the accessibility quality assurance assistant.    
* @version: 2.1.6            
* @author: Development led by Adam Chaboryk, CPWA at Ryerson University.
* All acknowledgements and contributors: https://github.com/ryersondmp/sa11y
* @license: https://github.com/ryersondmp/sa11y/blob/master/LICENSE.md
* Copyright (c) 2020 - 2022 Ryerson University
* The above copyright notice shall be included in all copies or substantial portions of the Software.
------------------------------------------------------------------------*/
class Sa11y{"use strict";constructor(e){let t={checkRoot:"body",containerIgnore:".sa11y-ignore",contrastIgnore:".sr-only",outlineIgnore:"",headerIgnore:"",imageIgnore:"",linkIgnore:'nav *, [role="navigation"] *',linkIgnoreSpan:"",linksToFlag:"",nonConsecutiveHeadingIsError:!0,flagLongHeadings:!0,showGoodLinkButton:!0,detectSPArouting:!1,readabilityPlugin:!0,readabilityRoot:"body",readabilityLang:"en",readabilityIgnore:"",contrastPlugin:!0,formLabelsPlugin:!0,linksAdvancedPlugin:!0,badLinksQA:!0,strongItalicsQA:!0,pdfQA:!0,langQA:!0,blockquotesQA:!0,tablesQA:!0,allCapsQA:!0,fakeHeadingsQA:!0,fakeListQA:!0,duplicateIdQA:!0,underlinedTextQA:!0,exampleQA:!1,embeddedContentAll:!0,embeddedContentAudio:!0,embeddedContentVideo:!0,embeddedContentTwitter:!0,embeddedContentDataViz:!0,embeddedContentTitles:!0,embeddedContentGeneral:!0,videoContent:"youtube.com, vimeo.com, yuja.com, panopto.com",audioContent:"soundcloud.com, simplecast.com, podbean.com, buzzsprout.com, blubrry.com, transistor.fm, fusebox.fm, libsyn.com",dataVizContent:"datastudio.google.com, tableau",twitterContent:"twitter-timeline",embeddedContent:""};t.embeddedContent=`${t.videoContent}, ${t.audioContent}, ${t.dataVizContent}, ${t.twitterContent}`,e={...t,...e};const n=sa11yLang;this.initialize=()=>{const t=document.createElement("div");t.setAttribute("id","sa11y-container"),t.setAttribute("role","region"),t.setAttribute("lang",n.LANG_CODE),t.setAttribute("aria-label",n.CONTAINER_LABEL);let a="On"===localStorage.getItem("sa11y-remember-contrast"),s="On"===localStorage.getItem("sa11y-remember-labels"),i="On"===localStorage.getItem("sa11y-remember-links-advanced"),r="On"===localStorage.getItem("sa11y-remember-readability");t.innerHTML=`<button type="button" aria-expanded="false" id="sa11y-toggle" aria-describedby="sa11y-notification-badge" aria-label="${n.MAIN_TOGGLE_LABEL}" disabled>\n                    <svg role='img' focusable='false' width='35px' height='35px' aria-hidden='true' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'><path fill='#ffffff' d='M256 48c114.953 0 208 93.029 208 208 0 114.953-93.029 208-208 208-114.953 0-208-93.029-208-208 0-114.953 93.029-208 208-208m0-40C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 56C149.961 64 64 149.961 64 256s85.961 192 192 192 192-85.961 192-192S362.039 64 256 64zm0 44c19.882 0 36 16.118 36 36s-16.118 36-36 36-36-16.118-36-36 16.118-36 36-36zm117.741 98.023c-28.712 6.779-55.511 12.748-82.14 15.807.851 101.023 12.306 123.052 25.037 155.621 3.617 9.26-.957 19.698-10.217 23.315-9.261 3.617-19.699-.957-23.316-10.217-8.705-22.308-17.086-40.636-22.261-78.549h-9.686c-5.167 37.851-13.534 56.208-22.262 78.549-3.615 9.255-14.05 13.836-23.315 10.217-9.26-3.617-13.834-14.056-10.217-23.315 12.713-32.541 24.185-54.541 25.037-155.621-26.629-3.058-53.428-9.027-82.141-15.807-8.6-2.031-13.926-10.648-11.895-19.249s10.647-13.926 19.249-11.895c96.686 22.829 124.283 22.783 220.775 0 8.599-2.03 17.218 3.294 19.249 11.895 2.029 8.601-3.297 17.219-11.897 19.249z'/></svg> \n                    <div id="sa11y-notification-badge">\n                        <span id="sa11y-notification-count"></span>\n                    </div>\n                </button><div id="sa11y-panel"><div id="sa11y-outline-panel" role="tabpanel" aria-labelledby="sa11y-outline-header">\n                <div id="sa11y-outline-header" class="sa11y-header-text">\n                    <h2 tabindex="-1">${n.PAGE_OUTLINE}</h2>\n                </div>\n                <div id="sa11y-outline-content">\n                    <ul id="sa11y-outline-list"></ul>\n                </div><div id="sa11y-readability-panel">\n                    <div id="sa11y-readability-content">\n                        <h2 class="sa11y-header-text-inline">${n.LANG_READABILITY}</h2>\n                        <p id="sa11y-readability-info"></p>\n                        <ul id="sa11y-readability-details"></ul>\n                    </div>\n                </div>\n            </div><div id="sa11y-settings-panel" role="tabpanel" aria-labelledby="sa11y-settings-header">\n                <div id="sa11y-settings-header" class="sa11y-header-text">\n                    <h2 tabindex="-1">${n.SETTINGS}</h2>\n                </div>\n                <div id="sa11y-settings-content">\n                    <ul id="sa11y-settings-options"> \n                        <li id="sa11y-contrast-li">\n                            <label id="sa11y-check-contrast" for="sa11y-contrast-toggle">\n\t\t\t\t\t\t\t\t${n.CONTRAST}\n\t\t\t\t\t\t\t</label>\n                            <button id="sa11y-contrast-toggle" \n                            aria-labelledby="sa11y-check-contrast" \n                            class="sa11y-settings-switch" \n                            aria-pressed="${a?"true":"false"}">${a?n.ON:n.OFF}</button>\n                        </li>\n\t\t\t\t\t\t<li id="sa11y-form-labels-li">\n                            <label id="sa11y-check-labels" for="sa11y-labels-toggle">\n\t\t\t\t\t\t\t\t${n.FORM_LABELS}\n\t\t\t\t\t\t\t</label>\n                            <button id="sa11y-labels-toggle" aria-labelledby="sa11y-check-labels" class="sa11y-settings-switch" \n                            aria-pressed="${s?"true":"false"}">${s?n.ON:n.OFF}</button>\n                        </li> \n                        <li id="sa11y-links-advanced-li">\n                            <label id="check-changerequest" for="sa11y-links-advanced-toggle">\n\t\t\t\t\t\t\t\t${n.LINKS_ADVANCED} <span class="sa11y-badge">AAA</span>\n\t\t\t\t\t\t\t</label>\n                            <button id="sa11y-links-advanced-toggle" aria-labelledby="check-changerequest" class="sa11y-settings-switch" \n                            aria-pressed="${i?"true":"false"}">${i?n.ON:n.OFF}</button>\n                        </li>\n                        <li id="sa11y-readability-li">\n                            <label id="check-readability" for="sa11y-readability-toggle">\n\t\t\t\t\t\t\t\t${n.LANG_READABILITY} <span class="sa11y-badge">AAA</span>\n\t\t\t\t\t\t\t</label>\n                            <button id="sa11y-readability-toggle" aria-labelledby="check-readability" class="sa11y-settings-switch" \n                            aria-pressed="${r?"true":"false"}">${r?n.ON:n.OFF}</button>\n                        </li>\n                        <li>\n                            <label id="sa11y-dark-mode" for="sa11y-theme-toggle">\n\t\t\t\t\t\t\t\t${n.DARK_MODE}\n\t\t\t\t\t\t\t</label>\n                            <button id="sa11y-theme-toggle" aria-labelledby="sa11y-dark-mode" class="sa11y-settings-switch"></button>\n                        </li>\n                    </ul>\n                </div>\n            </div><div id="sa11y-panel-alert">\n                <div class="sa11y-header-text">\n                    <button id="sa11y-close-alert" class="sa11y-close-btn" aria-label="${n.ALERT_CLOSE}" aria-describedby="sa11y-alert-heading sa11y-panel-alert-text"></button>\n                    <h2 id="sa11y-alert-heading">${n.ALERT_TEXT}</h2>\n                </div>\n                <p id="sa11y-panel-alert-text"></p>\n                <div id="sa11y-panel-alert-preview"></div>\n            </div><div id="sa11y-panel-content">\n                <button id="sa11y-cycle-toggle" type="button" aria-label="${n.SHORTCUT_SCREEN_READER}">\n                    <div class="sa11y-panel-icon"></div>\n                </button>\n                <div id="sa11y-panel-text">\n\t\t\t\t\t<h1 class="sa11y-header-text">${n.PANEL_HEADING}</h1>\n\t\t\t\t\t<p id="sa11y-status" aria-live="polite"></p>\n\t\t\t\t</div>\n            </div><div id="sa11y-panel-controls" role="tablist" aria-orientation="horizontal">\n                <button type="button" role="tab" aria-expanded="false" id="sa11y-outline-toggle" aria-controls="sa11y-outline-panel">\n                    ${n.SHOW_OUTLINE}\n                </button>\n                <button type="button" role="tab" aria-expanded="false" id="sa11y-settings-toggle" aria-controls="sa11y-settings-panel">\n                    ${n.SHOW_SETTINGS}\n                </button>\n                <div style="width:40px;"></div> \n            </div></div>`;document.getElementsByTagName("BODY")[0].prepend(t),this.settingPanelToggles();var l;l=()=>{if(this.globals(),this.mainToggle(),this.utilities(),this.skipToIssueTooltip(),document.getElementById("sa11y-toggle").disabled=!1,"Closed"!==localStorage.getItem("sa11y-remember-panel")&&localStorage.getItem("sa11y-remember-panel")||(this.panelActive=!0,this.checkAll()),!0===e.detectSPArouting){let e=window.location.href;const t=this.debounce((async()=>{e!==window.location.href&&("Closed"!==localStorage.getItem("sa11y-remember-panel")&&localStorage.getItem("sa11y-remember-panel")||(this.panelActive=!0,this.checkAll()),!0===this.panelActive&&(this.resetAll(!1),await this.checkAll()))}),250);window.addEventListener("mousemove",t),window.addEventListener("keydown",t)}},"complete"===document.readyState?l():window.addEventListener("load",l)},this.globals=()=>{e.readabilityRoot||(e.readabilityRoot=e.checkRoot);const t=["en","fr","es","de","nl","it"],n=document.querySelector("html").getAttribute("lang");if(n){const a=n.toLowerCase();t.some((e=>a.includes(e)))||(e.readabilityPlugin=!1)}else e.readabilityPlugin=!1;if(e.containerIgnore){let t=e.containerIgnore.split(",").map((e=>`${e} *, ${e}`));e.containerIgnore="[aria-hidden='true'], #sa11y-container *, .sa11y-instance *, #wpadminbar *, "+t.join(", ")}else e.containerIgnore="[aria-hidden='true'], #sa11y-container *, .sa11y-instance *, #wpadminbar *";if(this.containerIgnore=e.containerIgnore,this.contrastIgnore=this.containerIgnore+", .sa11y-heading-label",e.contrastIgnore&&(this.contrastIgnore=e.contrastIgnore+", "+this.contrastIgnore),this.readabilityIgnore=this.containerIgnore+', nav li, [role="navigation"] li',e.readabilityIgnore&&(this.readabilityIgnore=e.readabilityIgnore+", "+this.readabilityIgnore),this.headerIgnore=this.containerIgnore,e.headerIgnore&&(this.headerIgnore=e.headerIgnore+", "+this.headerIgnore),e.outlineIgnore&&(this.outlineIgnore=e.outlineIgnore+", #sa11y-container h2"),this.imageIgnore=this.containerIgnore+", [role='presentation'], [src^='https://trck.youvisit.com']",e.imageIgnore&&(this.imageIgnore=e.imageIgnore+", "+this.imageIgnore),this.linkIgnore=this.containerIgnore+', [aria-hidden="true"], .anchorjs-link',e.linkIgnore&&(this.linkIgnore=e.linkIgnore+", "+this.linkIgnore),e.linkIgnoreSpan){let t=e.linkIgnoreSpan.split(",").map((e=>`${e} *, ${e}`));e.linkIgnoreSpan="noscript"+t.join(", ")}else e.linkIgnoreSpan="noscript";if(e.videoContent){let t=e.videoContent.split(/\s*[\s,]\s*/).map((e=>`[src*='${e}']`));e.videoContent="video, "+t.join(", ")}else e.videoContent="video";if(e.audioContent){let t=e.audioContent.split(/\s*[\s,]\s*/).map((e=>`[src*='${e}']`));e.audioContent="audio, "+t.join(", ")}else e.audioContent="audio";if(e.dataVizContent){let t=e.dataVizContent.split(/\s*[\s,]\s*/).map((e=>`[src*='${e}']`));e.dataVizContent=t.join(", ")}else e.dataVizContent="datastudio.google.com, tableau";if(e.twitterContent){let t=e.twitterContent.split(/\s*[\s,]\s*/).map((e=>`[class*='${e}']`));e.twitterContent=t.join(", ")}else e.twitterContent="twitter-timeline";if(e.embeddedContent){let t=e.embeddedContent.split(/\s*[\s,]\s*/).map((e=>"twitter-timeline"===e?`[class*='${e}']`:`[src*='${e}']`));e.embeddedContent=t.join(", ")}},this.mainToggle=()=>{const e=document.getElementById("sa11y-toggle");e.addEventListener("click",(t=>{"Opened"===localStorage.getItem("sa11y-remember-panel")?(localStorage.setItem("sa11y-remember-panel","Closed"),e.classList.remove("sa11y-on"),e.setAttribute("aria-expanded","false"),this.resetAll(),this.updateBadge(),t.preventDefault()):(localStorage.setItem("sa11y-remember-panel","Opened"),e.classList.add("sa11y-on"),e.setAttribute("aria-expanded","true"),this.checkAll(),document.getElementById("sa11y-notification-badge").style.display="none",t.preventDefault())})),"Opened"===localStorage.getItem("sa11y-remember-panel")&&(e.classList.add("sa11y-on"),e.setAttribute("aria-expanded","true")),e.classList.contains("sa11y-on")&&(e.classList.toggle("loading-sa11y"),e.setAttribute("aria-expanded","true"),setTimeout(this.checkAll,800)),document.onkeydown=t=>{let n=!1;if(n="key"in(t=t||window.event)?"Escape"===t.key||"Esc"===t.key:27===t.keyCode,n&&document.getElementById("sa11y-panel").classList.contains("sa11y-active")&&(tippy.hideAll(),e.setAttribute("aria-expanded","false"),e.classList.remove("sa11y-on"),e.click(),this.resetAll()),t.altKey&&"KeyA"==t.code){const e=document.getElementById("sa11y-toggle");e.click(),e.focus(),t.preventDefault()}}},this.utilities=()=>{this.isElementHidden=e=>{if(e.getAttribute("hidden")||0===e.offsetWidth&&0===e.offsetHeight)return!0;return"none"===getComputedStyle(e).getPropertyValue("display")},this.escapeHTML=e=>{const t=document.createElement("div");return t.textContent=e,t.innerHTML.replaceAll('"',"&quot;").replaceAll("'","&#039;").replaceAll("`","&#x60;")},this.sanitizeForHTML=function(e){let t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=\/]/g,(function(e){return t[e]}))},this.computeTextNodeWithImage=function(e){const t=Array.from(e.querySelectorAll("img"));let n="";if(0===t.length&&e.textContent.trim().length>1)n=e.textContent.trim();else if(t.length&&0===e.textContent.trim().length){let e=t[0].getAttribute("alt");e&&" "!==e&&""!==e?void 0!==e&&(n=e):n=" "}else t.length&&e.textContent.trim().length&&(t.forEach((e=>{e.insertAdjacentHTML("afterend"," <span class='sa11y-clone-image-text' aria-hidden='true'>"+t[0].getAttribute("alt")+"</span> ")})),n=e.textContent.trim());return n},this.debounce=(e,t)=>{let n=null;return(...a)=>{window.clearTimeout(n),n=window.setTimeout((()=>{e.apply(null,a)}),t)}},this.fnIgnore=(e,t)=>{const n=e.cloneNode(!0);return Array.from(t?n.querySelectorAll(t):n.children).forEach((e=>{e.parentElement.removeChild(e)})),n},this.computeAriaLabel=e=>{if(e.matches("[aria-label]"))return e.getAttribute("aria-label");if(e.matches("[aria-labelledby]")){let t=e.getAttribute("aria-labelledby").split(/\s+/);if(t.length>0){let e="";return t.forEach((t=>{null===document.querySelector("#"+t)?e+=" ":e+=document.querySelector("#"+t).firstChild.nodeValue+" "})),e}return""}if(Array.from(e.children).filter((e=>e.matches("[aria-label]"))).length>0){let t=Array.from(e.childNodes),n="";return t.forEach((e=>{1===e.nodeType?null===e.ariaLabel?n+=e.innerText:n+=e.getAttribute("aria-label"):n+=e.nodeValue})),n}if(Array.from(e.children).filter((e=>e.matches("[aria-labelledby]"))).length>0){let t=Array.from(e.childNodes),n="";return t.forEach((e=>{if(3===e.nodeType)n+=e.nodeValue;else{let t=e.getAttribute("aria-labelledby").split(/\s+/);if(!(t.length>0))return"";{let e="";t.forEach((t=>{null===document.querySelector("#"+t)?e+=" ":e+=document.querySelector("#"+t).firstChild.nodeValue+" "})),n+=e}}})),n}return e.matches("[title]")?e.getAttribute("title"):"noAria"}},this.settingPanelToggles=()=>{const e=document.getElementById("sa11y-contrast-toggle");e.onclick=async()=>{"On"===localStorage.getItem("sa11y-remember-contrast")?(localStorage.setItem("sa11y-remember-contrast","Off"),e.textContent=`${n.OFF}`,e.setAttribute("aria-pressed","false"),this.resetAll(!1),await this.checkAll()):(localStorage.setItem("sa11y-remember-contrast","On"),e.textContent=`${n.ON}`,e.setAttribute("aria-pressed","true"),this.resetAll(!1),await this.checkAll())};const t=document.getElementById("sa11y-labels-toggle");t.onclick=async()=>{"On"===localStorage.getItem("sa11y-remember-labels")?(localStorage.setItem("sa11y-remember-labels","Off"),t.textContent=`${n.OFF}`,t.setAttribute("aria-pressed","false"),this.resetAll(!1),await this.checkAll()):(localStorage.setItem("sa11y-remember-labels","On"),t.textContent=`${n.ON}`,t.setAttribute("aria-pressed","true"),this.resetAll(!1),await this.checkAll())};const a=document.getElementById("sa11y-links-advanced-toggle");a.onclick=async()=>{"On"===localStorage.getItem("sa11y-remember-links-advanced")?(localStorage.setItem("sa11y-remember-links-advanced","Off"),a.textContent=`${n.OFF}`,a.setAttribute("aria-pressed","false"),this.resetAll(!1),await this.checkAll()):(localStorage.setItem("sa11y-remember-links-advanced","On"),a.textContent=`${n.ON}`,a.setAttribute("aria-pressed","true"),this.resetAll(!1),await this.checkAll())};const s=document.getElementById("sa11y-readability-toggle");s.onclick=async()=>{"On"===localStorage.getItem("sa11y-remember-readability")?(localStorage.setItem("sa11y-remember-readability","Off"),s.textContent=`${n.OFF}`,s.setAttribute("aria-pressed","false"),document.getElementById("sa11y-readability-panel").classList.remove("sa11y-active"),this.resetAll(!1),await this.checkAll()):(localStorage.setItem("sa11y-remember-readability","On"),s.textContent=`${n.ON}`,s.setAttribute("aria-pressed","true"),document.getElementById("sa11y-readability-panel").classList.add("sa11y-active"),this.resetAll(!1),await this.checkAll())},"On"===localStorage.getItem("sa11y-remember-readability")&&document.getElementById("sa11y-readability-panel").classList.add("sa11y-active");let i=window.matchMedia("(prefers-color-scheme: dark)");const r=document.getElementById("sa11y-theme-toggle"),l=document.querySelector("html"),o=localStorage.getItem("sa11y-remember-theme");i.matches?(r.textContent=`${n.ON}`,r.setAttribute("aria-pressed","true")):(r.textContent=`${n.OFF}`,r.setAttribute("aria-pressed","false")),i.addEventListener("change",(function(e){e.matches?(l.setAttribute("data-sa11y-theme","dark"),r.textContent=`${n.ON}`,r.setAttribute("aria-pressed","true"),localStorage.setItem("sa11y-remember-theme","")):(l.setAttribute("data-sa11y-theme","light"),r.textContent=`${n.OFF}`,r.setAttribute("aria-pressed","false"),localStorage.setItem("sa11y-remember-theme",""))})),r.onclick=async()=>{const e=localStorage.getItem("sa11y-remember-theme");"dark"===e?(l.setAttribute("data-sa11y-theme","light"),localStorage.setItem("sa11y-remember-theme","light"),r.textContent=`${n.OFF}`,r.setAttribute("aria-pressed","false")):"light"===e?(l.setAttribute("data-sa11y-theme","dark"),localStorage.setItem("sa11y-remember-theme","dark"),r.textContent=`${n.ON}`,r.setAttribute("aria-pressed","true")):i.matches?(l.setAttribute("data-sa11y-theme","light"),localStorage.setItem("sa11y-remember-theme","light"),r.textContent=`${n.OFF}`,r.setAttribute("aria-pressed","false")):(l.setAttribute("data-sa11y-theme","dark"),localStorage.setItem("sa11y-remember-theme","dark"),r.textContent=`${n.ON}`,r.setAttribute("aria-pressed","true"))},"dark"===o?(l.setAttribute("data-sa11y-theme","dark"),localStorage.setItem("sa11y-remember-theme","dark"),r.textContent=`${n.ON}`,r.setAttribute("aria-pressed","true")):"light"===o&&(l.setAttribute("data-sa11y-theme","light"),localStorage.setItem("sa11y-remember-theme","light"),r.textContent=`${n.OFF}`,r.setAttribute("aria-pressed","false"))},this.skipToIssueTooltip=()=>{let e;e=-1!=navigator.userAgent.indexOf("Mac")?'<span class="sa11y-kbd">Option</span> + <span class="sa11y-kbd">S</span>':'<span class="sa11y-kbd">Alt</span> + <span class="sa11y-kbd">S</span>',tippy("#sa11y-cycle-toggle",{content:`<div style="text-align:center">${sa11yLang.SHORTCUT_TOOLTIP} &raquo;<br>${e}</div>`,allowHTML:!0,delay:[900,0],trigger:"mouseenter focusin",arrow:!0,placement:"top",theme:"sa11y-theme",aria:{content:null,expanded:!1},appendTo:document.body})},this.checkAll=async()=>{this.errorCount=0,this.warningCount=0;if(document.querySelector(e.checkRoot))this.root=document.querySelector(e.checkRoot);else{this.root=document.querySelector("body");const t=document.getElementById("sa11y-panel-alert"),a=document.getElementById("sa11y-panel-alert-text"),s=e.checkRoot;a.innerHTML=`${n.ERROR_MISSING_ROOT_TARGET(s)}`,t.classList.add("sa11y-active")}if(this.findElements(),this.checkHeaders(),this.checkLinkText(),this.checkAltText(),!0===e.contrastPlugin)"On"===localStorage.getItem("sa11y-remember-contrast")&&this.checkContrast();else{document.getElementById("sa11y-contrast-li").setAttribute("style","display: none !important;"),localStorage.setItem("sa11y-remember-contrast","Off")}if(!0===e.formLabelsPlugin)"On"===localStorage.getItem("sa11y-remember-labels")&&this.checkLabels();else{document.getElementById("sa11y-form-labels-li").setAttribute("style","display: none !important;"),localStorage.setItem("sa11y-remember-labels","Off")}if(!0===e.linksAdvancedPlugin)"On"===localStorage.getItem("sa11y-remember-links-advanced")&&this.checkLinksAdvanced();else{document.getElementById("sa11y-links-advanced-li").setAttribute("style","display: none !important;"),localStorage.setItem("sa11y-remember-links-advanced","Off")}if(!0===e.readabilityPlugin)"On"===localStorage.getItem("sa11y-remember-readability")&&this.checkReadability();else{const e=document.getElementById("sa11y-readability-li"),t=document.getElementById("sa11y-readability-panel");e.setAttribute("style","display: none !important;"),t.classList.remove("sa11y-active")}!0===e.embeddedContentAll&&this.checkEmbeddedContent(),this.checkQA(),this.panelActive?this.resetAll():this.updatePanel(),this.initializeTooltips(),this.detectOverflow(),this.nudge(),document.getElementsByClassName("sa11y-on").length||this.updateBadge()},this.resetAll=(e=!0)=>{this.panelActive=!1,this.clearEverything();document.querySelector("html").removeAttribute("data-sa11y-active");const t=document.getElementById("sa11y-outline-toggle"),n=t.cloneNode(!0);t.parentNode.replaceChild(n,t);const a=document.getElementById("sa11y-settings-toggle"),s=a.cloneNode(!0);a.parentNode.replaceChild(s,a);["sa11y-error-border","sa11y-error-text","sa11y-warning-border","sa11y-warning-text","sa11y-good-border","sa11y-good-text","sa11y-overflow","sa11y-fake-heading","sa11y-pulse-border","sa11y-fake-list"].forEach((e=>{document.querySelectorAll("."+e).forEach((t=>t.classList.remove(e)))}));document.querySelectorAll(".sa11y-warning-uppercase").forEach((e=>e.outerHTML=e.innerHTML)),document.querySelectorAll("\n                .sa11y-instance,\n                .sa11y-instance-inline,\n                .sa11y-heading-label,\n                #sa11y-outline-list li,\n                .sa11y-readability-period,\n                #sa11y-readability-info span,\n                #sa11y-readability-details li,\n                .sa11y-clone-image-text\n            ").forEach((e=>e.parentNode.removeChild(e))),document.querySelector("#sa11y-panel-alert").classList.remove("sa11y-active");let i=document.querySelector("#sa11y-panel-alert-text");for(;i.firstChild;)i.removeChild(i.firstChild);let r=document.querySelector("#sa11y-panel-alert-preview");for(;r.firstChild;)r.removeChild(r.firstChild);r.classList.remove("sa11y-panel-alert-preview");let l=document.querySelector("#sa11y-status");for(;l.firstChild;)l.removeChild(l.firstChild);e&&document.querySelector("#sa11y-panel").classList.remove("sa11y-active")},this.clearEverything=()=>{},this.initializeTooltips=()=>{tippy(".sa11y-btn",{interactive:!0,trigger:"mouseenter click focusin",arrow:!0,delay:[200,0],theme:"sa11y-theme",placement:"bottom",allowHTML:!0,aria:{content:"describedby"},appendTo:document.body})},this.detectOverflow=()=>{document.querySelectorAll(".sa11y-btn").forEach((function(e){const t=((e,t,n)=>{for(;null!==e;){if(window.getComputedStyle(e).getPropertyValue(t)===n)return e;e=e.parentElement}return null})(e,"overflow","hidden");null!==t&&t.classList.add("sa11y-overflow")}))},this.nudge=()=>{document.querySelectorAll(".sa11y-instance, .sa11y-instance-inline").forEach((e=>{const t=e.nextElementSibling;null!==t&&(t.classList.contains("sa11y-instance")||t.classList.contains("sa11y-instance-inline"))&&t.querySelector("button").setAttribute("style","margin: -10px -20px !important;")}))},this.updateBadge=()=>{let e=this.errorCount+this.warningCount,t=this.warningCount;const a=document.getElementById("sa11y-notification-badge");0===e?a.style.display="none":this.warningCount>0&&0===this.errorCount?(a.style.display="flex",a.classList.add("sa11y-notification-badge-warning"),document.getElementById("sa11y-notification-count").innerHTML=`${n.PANEL_ICON_WARNINGS(t)}`):(a.style.display="flex",a.classList.remove("sa11y-notification-badge-warning"),document.getElementById("sa11y-notification-count").innerHTML=`${n.PANEL_ICON_TOTAL(e)}`)},this.updatePanel=()=>{this.panelActive=!0,this.buildPanel(),this.skipToIssue();const e=document.getElementById("sa11y-cycle-toggle");e.disabled=!1,e.setAttribute("style","cursor: pointer !important;");document.getElementById("sa11y-panel").classList.add("sa11y-active");document.querySelector("html").setAttribute("data-sa11y-active","true");const t=document.getElementById("sa11y-panel-content"),n=document.getElementById("sa11y-status"),a=document.querySelectorAll(".sa11y-btn"),s=sa11yLang;this.errorCount>0&&this.warningCount>0?(t.setAttribute("class","sa11y-errors"),n.innerHTML=`${s.PANEL_STATUS_BOTH(this.errorCount,this.warningCount)}`):this.errorCount>0?(t.setAttribute("class","sa11y-errors"),n.innerHTML=`${s.PANEL_STATUS_ERRORS(this.errorCount)}`):this.warningCount>0?(t.setAttribute("class","sa11y-warnings"),n.innerHTML=`${s.PANEL_STATUS_WARNINGS(this.warningCount)}`):(t.setAttribute("class","sa11y-good"),n.textContent=`${s.PANEL_STATUS_NONE}`,0===a.length&&(e.disabled=!0,e.setAttribute("style","cursor: default !important;")))},this.buildPanel=()=>{const e=document.getElementById("sa11y-outline-toggle"),t=document.getElementById("sa11y-outline-panel"),n=document.getElementById("sa11y-outline-list"),a=document.getElementById("sa11y-settings-toggle"),s=document.getElementById("sa11y-settings-panel"),i=document.getElementById("sa11y-settings-content"),r=document.querySelectorAll(".sa11y-heading-label"),l=sa11yLang;e.addEventListener("click",(()=>{"true"==e.getAttribute("aria-expanded")?(e.classList.remove("sa11y-outline-active"),t.classList.remove("sa11y-active"),e.textContent=`${l.SHOW_OUTLINE}`,e.setAttribute("aria-expanded","false"),localStorage.setItem("sa11y-remember-outline","Closed")):(e.classList.add("sa11y-outline-active"),t.classList.add("sa11y-active"),e.textContent=`${l.HIDE_OUTLINE}`,e.setAttribute("aria-expanded","true"),localStorage.setItem("sa11y-remember-outline","Opened")),document.querySelector("#sa11y-outline-header > h2").focus(),r.forEach((e=>e.classList.toggle("sa11y-label-visible"))),s.classList.remove("sa11y-active"),a.classList.remove("sa11y-settings-active"),a.setAttribute("aria-expanded","false"),a.textContent=`${l.SHOW_SETTINGS}`,n.clientHeight>250&&n.setAttribute("tabindex","0")})),"Opened"===localStorage.getItem("sa11y-remember-outline")&&(e.classList.add("sa11y-outline-active"),t.classList.add("sa11y-active"),e.textContent=`${l.HIDE_OUTLINE}`,e.setAttribute("aria-expanded","true"),r.forEach((e=>e.classList.toggle("sa11y-label-visible"))),n.clientHeight>250&&n.setAttribute("tabindex","0")),a.addEventListener("click",(n=>{"true"===a.getAttribute("aria-expanded")?(a.classList.remove("sa11y-settings-active"),s.classList.remove("sa11y-active"),a.textContent=`${l.SHOW_SETTINGS}`,a.setAttribute("aria-expanded","false")):(a.classList.add("sa11y-settings-active"),s.classList.add("sa11y-active"),a.textContent=`${l.HIDE_SETTINGS}`,a.setAttribute("aria-expanded","true")),document.querySelector("#sa11y-settings-header > h2").focus(),t.classList.remove("sa11y-active"),e.classList.remove("sa11y-outline-active"),e.setAttribute("aria-expanded","false"),e.textContent=`${l.SHOW_OUTLINE}`,r.forEach((e=>e.classList.remove("sa11y-label-visible"))),localStorage.setItem("sa11y-remember-outline","Closed"),i.clientHeight>350&&i.setAttribute("tabindex","0")})),document.getElementById("sa11y-panel-controls").addEventListener("keydown",(function(e){const t=document.querySelectorAll("#sa11y-outline-toggle[role=tab], #sa11y-settings-toggle[role=tab]");if("ArrowRight"===e.key)for(let n=0;n<t.length;n++)if("true"===t[n].getAttribute("aria-expanded")||"false"===t[n].getAttribute("aria-expanded")){t[n+1].focus(),e.preventDefault();break}if("ArrowDown"===e.key)for(let n=0;n<t.length;n++)if("true"===t[n].getAttribute("aria-expanded")||"false"===t[n].getAttribute("aria-expanded")){t[n+1].focus(),e.preventDefault();break}if("ArrowLeft"===e.key)for(let n=t.length-1;n>0;n--)if("true"===t[n].getAttribute("aria-expanded")||"false"===t[n].getAttribute("aria-expanded")){t[n-1].focus(),e.preventDefault();break}if("ArrowUp"===e.key)for(let n=t.length-1;n>0;n--)if("true"===t[n].getAttribute("aria-expanded")||"false"===t[n].getAttribute("aria-expanded")){t[n-1].focus(),e.preventDefault();break}}));const o=document.getElementById("sa11y-close-alert"),d=document.getElementById("sa11y-panel-alert"),c=document.getElementById("sa11y-panel-alert-text"),u=document.getElementById("sa11y-cycle-toggle");o.addEventListener("click",(()=>{for(d.classList.remove("sa11y-active");c.firstChild;)c.removeChild(c.firstChild);document.querySelectorAll(".sa11y-pulse-border").forEach((e=>e.classList.remove("sa11y-pulse-border"))),u.focus()}))},this.skipToIssue=()=>{let e=!1,t="smooth";if(!("scrollBehavior"in document.documentElement.style)){let e=document.createElement("script");e.src="https://cdn.jsdelivr.net/npm/smoothscroll-polyfill@0.4.4/dist/smoothscroll.min.js",document.head.appendChild(e)}document.documentMode||("function"==typeof window.matchMedia&&(e=window.matchMedia("(prefers-reduced-motion: reduce)")),e&&!e.matches||(t="auto"));let n=0;const a=document.querySelectorAll(".sa11y-btn").length;document.addEventListener("keyup",(e=>{a&&(e.altKey&&"Period"==e.code||"KeyS"==e.code)&&(s(),e.preventDefault())}));document.getElementById("sa11y-cycle-toggle").addEventListener("click",(e=>{s(),e.preventDefault()}));const s=function(){const e=document.querySelectorAll(".sa11y-btn"),s=document.getElementById("sa11y-panel-alert"),i=document.getElementById("sa11y-panel-alert-text"),r=document.getElementById("sa11y-panel-alert-preview"),l=document.getElementById("sa11y-close-alert"),o=(e,t,n)=>{for(;null!==e;){if(window.getComputedStyle(e).getPropertyValue(t)===n)return e;e=e.parentElement}return null},d=e=>{let t=e.getBoundingClientRect(),n=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+n}};let c,u=e[n].offsetTop;if(0===u){let t=o(e[n],"display","none");c=d(t.previousElementSibling).top-50}else c=d(e[n]).top-50;u>=0?(setTimeout((function(){window.scrollTo({top:c,behavior:t})}),1),e.forEach((function(e){const t=o(e,"display","none");if(null!==t){t.previousElementSibling.classList.add("sa11y-pulse-border")}})),e[n].focus()):e[n].focus(),0===u?(s.classList.add("sa11y-active"),i.textContent=`${sa11yLang.NOT_VISIBLE_ALERT}`,r.classList.add("sa11y-panel-alert-preview"),r.innerHTML=e[n].getAttribute("data-tippy-content"),l.focus()):u<1&&(s.classList.remove("sa11y-active"),document.querySelectorAll(".sa11y-pulse-border").forEach((e=>e.classList.remove("sa11y-pulse-border")))),n+=1,n>=a&&(n=0)}},this.findElements=()=>{let t=document.querySelector(e.checkRoot),n=document.querySelector(e.readabilityRoot);t=t?document.querySelector(e.checkRoot):document.querySelector("body"),n=n?document.querySelector(e.readabilityRoot):document.querySelector("body");const a=Array.from(document.querySelectorAll(this.containerIgnore)),s=Array.from(document.querySelectorAll(this.readabilityIgnore)),i=Array.from(t.querySelectorAll("*")),r=Array.from(t.querySelectorAll(this.contrastIgnore));this.$contrast=i.filter((e=>!r.includes(e)));let l=Array.from(n.querySelectorAll("p, li"));l&&(l=Array.from(n.querySelectorAll("p, li"))),this.$readability=l.filter((e=>!s.includes(e)));const o=Array.from(t.querySelectorAll("h1, h2, h3, h4, h5, h6, [role='heading'][aria-level]")),d=Array.from(t.querySelectorAll(this.headerIgnore));this.$h=o.filter((e=>!d.includes(e)));const c=Array.from(document.querySelectorAll("h1, [role='heading'][aria-level='1']"));this.$h1=c.filter((e=>!d.includes(e)));const u=Array.from(t.querySelectorAll("a[href]")),h=Array.from(t.querySelectorAll(this.linkIgnore));this.$links=u.filter((e=>!h.includes(e)));const g=Array.from(t.querySelectorAll("input, select, textarea"));this.$inputs=g.filter((e=>!a.includes(e)&&!this.isElementHidden(e)));const y=Array.from(t.querySelectorAll("img")),b=Array.from(t.querySelectorAll(this.imageIgnore));this.$img=y.filter((e=>!b.includes(e)));const m=Array.from(t.querySelectorAll("iframe, audio, video"));this.$iframes=m.filter((e=>!a.includes(e))),this.$videos=this.$iframes.filter((t=>t.matches(e.videoContent))),this.$audio=this.$iframes.filter((t=>t.matches(e.audioContent))),this.$dataviz=this.$iframes.filter((t=>t.matches(e.dataVizContent))),this.$twitter=this.$iframes.filter((t=>t.matches(e.twitterContent))),this.$embeddedcontent=this.$iframes.filter((t=>!t.matches(e.embeddedContent)));const A=Array.from(t.querySelectorAll("strong, em"));this.$strongitalics=A.filter((e=>!a.includes(e)));const f=e.linksToFlag?Array.from(t.querySelectorAll(e.linksToFlag)):[];this.$badDevLinks=f.filter((e=>!a.includes(e)));const p=Array.from(t.querySelectorAll("a[href$='.pdf']"));this.$checkPDF=p.filter((e=>!a.includes(e)));const L=Array.from(t.querySelectorAll("table:not([role='presentation'])"));this.$tables=L.filter((e=>!a.includes(e))),this.lang=document.querySelector("html").getAttribute("lang");const E=Array.from(t.querySelectorAll("blockquote"));this.$blockquotes=E.filter((e=>!a.includes(e)));const I=Array.from(t.querySelectorAll("p"));this.$p=I.filter((e=>!a.includes(e)));const S=Array.from(t.querySelectorAll("h1, h2, h3, h4, h5, h6, p, li:not([class^='sa11y']), blockquote"));this.$allcaps=S.filter((e=>!a.includes(e)))},this.annotate=(e,t,a=!1)=>{const s=new Set([n.ERROR,n.WARNING,n.GOOD]),i={[n.ERROR]:"error",[n.WARNING]:"warning",[n.GOOD]:"good"};if(!s.has(e))throw Error(`Invalid type [${e}] for annotation`);return t&&"[object Function]"==={}.toString.call(t)&&(t=t()),t=this.escapeHTML(t),`\n\t\t\t\t<div class=${a?"sa11y-instance-inline":"sa11y-instance"}>\n\t\t\t\t\t<button\n\t\t\t\t\ttype="button"   \n\t\t\t\t\taria-label="${[e]}" \n\t\t\t\t\tclass="sa11y-btn \n\t\t\t\t\tsa11y-${i[e]}-btn${a?"-text":""}" \n\t\t\t\t\tdata-tippy-content="<div lang='${n.LANG_CODE}'>\n\t\t\t\t\t\t<div class='sa11y-header-text'>${[e]}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t${t} \n\t\t\t\t\t</div>\n\t\t\t\t"> \n\t\t\t\t</button>\n\t\t\t\t</div>`},this.annotateBanner=(e,t)=>{const a=new Set([n.ERROR,n.WARNING,n.GOOD]),s={[n.ERROR]:"error",[n.WARNING]:"warning",[n.GOOD]:"good"};if(!a.has(e))throw Error(`Invalid type [${e}] for annotation`);return t&&"[object Function]"==={}.toString.call(t)&&(t=t()),`<div class="sa11y-instance sa11y-${s[e]}-message-container">\n\t\t\t\t<div role="region" aria-label="${[e]}" class="sa11y-${s[e]}-message" lang="${n.LANG_CODE}">\n\t\t\t\t\t${t}\n\t\t\t\t</div>\n\t\t\t</div>`},this.checkHeaders=()=>{let t;if(this.$h.forEach(((a,s)=>{let i,r=this.computeTextNodeWithImage(a),l=this.sanitizeForHTML(r);i=a.getAttribute("aria-level")?+a.getAttribute("aria-level"):+a.tagName.slice(1);let o=a.textContent.trim().length,d=null,c=null;if(i-t>1&&0!==s)!0===e.nonConsecutiveHeadingIsError?d=n.HEADING_NON_CONSECUTIVE_LEVEL(t,i):c=n.HEADING_NON_CONSECUTIVE_LEVEL(t,i);else if(0==a.textContent.trim().length)if(a.querySelectorAll("img").length){const e=a.querySelector("img").getAttribute("alt");void 0!==e&&" "!==e&&""!==e||(d=n.HEADING_EMPTY_WITH_IMAGE(i),a.classList.add("sa11y-error-text"))}else d=n.HEADING_EMPTY(i),a.classList.add("sa11y-error-text");else 0===s&&1!==i&&2!==i?d=n.HEADING_FIRST:a.textContent.trim().length>170&&!0===e.flagLongHeadings&&(c=n.HEADING_LONG(o));t=i;let u=`<li class='sa11y-outline-${i}'>\n                    <span class='sa11y-badge'>${i}</span> \n                    <span class='sa11y-outline-list-item'>${l}</span>\n                </li>`,h=`<li class='sa11y-outline-${i}'>\n                    <span class='sa11y-badge sa11y-error-badge'>\n                    <span aria-hidden='true'>&#10007;</span>\n                    <span class='sa11y-visually-hidden'>${n.ERROR}</span> ${i}</span> \n                    <span class='sa11y-outline-list-item sa11y-red-text sa11y-bold'>${l}</span>\n                </li>`,g=`<li class='sa11y-outline-${i}'>\n                    <span class='sa11y-badge sa11y-warning-badge'>\n                    <span aria-hidden='true'>&#x3f;</span>\n                    <span class='sa11y-visually-hidden'>${n.WARNING}</span> ${i}</span> \n                    <span class='sa11y-outline-list-item sa11y-yellow-text sa11y-bold'>${l}</span>\n                </li>`,y=[];e.outlineIgnore&&(y=Array.from(document.querySelectorAll(this.outlineIgnore))),y.includes(a)||(a.insertAdjacentHTML("beforeend",`<span class='sa11y-heading-label'>H${i}</span>`),null!==d&&null!==a.closest("a")?(this.errorCount++,a.classList.add("sa11y-error-border"),a.closest("a").insertAdjacentHTML("afterend",this.annotate(n.ERROR,d,!0)),document.querySelector("#sa11y-outline-list").insertAdjacentHTML("beforeend",h)):null!==d?(this.errorCount++,a.classList.add("sa11y-error-border"),a.insertAdjacentHTML("beforebegin",this.annotate(n.ERROR,d)),document.querySelector("#sa11y-outline-list").insertAdjacentHTML("beforeend",h)):null!==c&&null!==a.closest("a")?(this.warningCount++,a.closest("a").insertAdjacentHTML("afterend",this.annotate(n.WARNING,c)),document.querySelector("#sa11y-outline-list").insertAdjacentHTML("beforeend",g)):null!==c?(this.warningCount++,a.insertAdjacentHTML("beforebegin",this.annotate(n.WARNING,c)),document.querySelector("#sa11y-outline-list").insertAdjacentHTML("beforeend",g)):null!==d&&null!==c||document.querySelector("#sa11y-outline-list").insertAdjacentHTML("beforeend",u))})),0===this.$h1.length){this.errorCount++;const e=`<div class='sa11y-instance sa11y-missing-h1'>\n                    <span class='sa11y-badge sa11y-error-badge'><span aria-hidden='true'>&#10007;</span><span class='sa11y-visually-hidden'>${n.ERROR}</span></span> \n                    <span class='sa11y-red-text sa11y-bold'>${n.PANEL_HEADING_MISSING_ONE}</span>\n                </div>`;document.getElementById("sa11y-outline-header").insertAdjacentHTML("afterend",e),document.getElementById("sa11y-container").insertAdjacentHTML("afterend",this.annotateBanner(n.ERROR,n.HEADING_MISSING_ONE))}},this.checkLinkText=()=>{this.$links.forEach((t=>{let a=this.computeAriaLabel(t),s=t.getAttribute("aria-labelledby"),i=t.getAttribute("aria-label"),r=null,l=null;if(t.children.length){let e=t.children[0];r=e.getAttribute("aria-labelledby"),l=e.getAttribute("aria-label")}if("noAria"===a){a=t.textContent.trim();const e=t.querySelector("img");if(e){let t=this.computeAriaLabel(e);a+="noAria"!==t?t:e&&e.getAttribute("alt")||""}}let o=a.replace(/\s+/g," ").trim(),d=function(e){let t=[null,null,null];return n.PARTIAL_ALT_STOPWORDS.forEach((n=>{if(e.length===n.length&&e.toLowerCase().indexOf(n)>=0)return t[0]=n,!1})),n.WARNING_ALT_STOPWORDS.forEach((n=>{if(e.toLowerCase().indexOf(n)>=0)return t[1]=n,!1})),["http",".asp",".htm",".php",".edu/",".com/",".net/",".org/",".us/",".ca/",".de/",".icu/",".uk/",".ru/",".info/",".top/",".xyz/",".tk/",".cn/",".ga/",".cf/",".nl/",".io/",".fr/",".pe/",".nz/",".pt/",".es/",".pl/",".ua/"].forEach((n=>{if(e.toLowerCase().indexOf(n)>=0)return t[2]=n,!1})),t}(this.fnIgnore(t,e.linkIgnoreSpan).textContent.trim());t.querySelectorAll("img").length||(t.getAttribute("href")&&!o?t.children.length?(this.errorCount++,t.classList.add("sa11y-error-border"),t.insertAdjacentHTML("afterend",this.annotate(n.ERROR,n.LINK_EMPTY_LINK_NO_LABEL,!0))):(this.errorCount++,t.classList.add("sa11y-error-border"),t.insertAdjacentHTML("afterend",this.annotate(n.ERROR,n.LINK_EMPTY,!0))):null!=d[0]?s||i||r||l?!0===e.showGoodLinkButton&&t.insertAdjacentHTML("beforebegin",this.annotate(n.GOOD,n.LINK_LABEL(a),!0)):"true"===t.getAttribute("aria-hidden")&&"-1"===t.getAttribute("tabindex")||(this.errorCount++,t.classList.add("sa11y-error-text"),t.insertAdjacentHTML("afterend",this.annotate(n.ERROR,n.LINK_STOPWORD(d[0]),!0))):null!=d[1]?(this.warningCount++,t.classList.add("sa11y-warning-text"),t.insertAdjacentHTML("afterend",this.annotate(n.WARNING,n.LINK_BEST_PRACTICES(d[1]),!0))):null!=d[2]?a.length>40&&(this.warningCount++,t.classList.add("sa11y-warning-text"),t.insertAdjacentHTML("afterend",this.annotate(n.WARNING,n.LINK_URL,!0))):(s||i||r||l)&&!0===e.showGoodLinkButton&&t.insertAdjacentHTML("beforebegin",this.annotate(n.GOOD,n.LINK_LABEL(a),!0)))}))},this.checkLinksAdvanced=()=>{let e={};this.$links.forEach((t=>{let a=this.computeAriaLabel(t);const s=t.querySelector("img");if("noAria"===a&&(a=t.textContent.trim(),s)){let e=this.computeAriaLabel(s);a+="noAria"!==e?e:s&&s.getAttribute("alt")||""}let i=a.replace(/'|"|-|\.|\s+/g,"").trim().toLowerCase(),r=t.getAttribute("href");0!==a.length&&(e[i]&&0!==i.length?e[r]||(this.warningCount++,t.classList.add("sa11y-warning-text"),t.insertAdjacentHTML("afterend",this.annotate(n.WARNING,n.LINK_IDENTICAL_NAME(a),!0))):(e[i]=!0,e[r]=!0));const l=n.NEW_WINDOW_PHRASES.some((function(e){return a.toLowerCase().indexOf(e)>=0})),o=n.FILE_TYPE_PHRASES.some((function(e){return a.toLowerCase().indexOf(e)>=0})),d=t.matches("\n\t\t\t\t\ta[href$='.pdf'],\n\t\t\t\t\ta[href$='.doc'],\n\t\t\t\t\ta[href$='.docx'],\n\t\t\t\t\ta[href$='.zip'],\n\t\t\t\t\ta[href$='.mp3'],\n\t\t\t\t\ta[href$='.txt'],\n\t\t\t\t\ta[href$='.exe'],\n\t\t\t\t\ta[href$='.dmg'],\n\t\t\t\t\ta[href$='.rtf'],\n\t\t\t\t\ta[href$='.pptx'],\n\t\t\t\t\ta[href$='.ppt'],\n\t\t\t\t\ta[href$='.xls'],\n\t\t\t\t\ta[href$='.xlsx'],\n\t\t\t\t\ta[href$='.csv'],\n\t\t\t\t\ta[href$='.mp4'],\n\t\t\t\t\ta[href$='.mov'],\n\t\t\t\t\ta[href$='.avi']\n\t\t\t\t");"_blank"!==t.getAttribute("target")||d||l||(this.warningCount++,t.classList.add("sa11y-warning-text"),t.insertAdjacentHTML("afterend",this.annotate(n.WARNING,n.NEW_TAB_WARNING,!0))),d&&!o&&(this.warningCount++,t.classList.add("sa11y-warning-text"),t.insertAdjacentHTML("beforebegin",this.annotate(n.WARNING,n.FILE_TYPE_WARNING,!0)))}))},this.checkAltText=()=>{this.containsAltTextStopWords=function(e){let t=[null,null,null];return[".png",".jpg",".jpeg",".webp",".gif",".tiff",".svg"].forEach((n=>{e.toLowerCase().indexOf(n)>=0&&(t[0]=n)})),n.SUSPICIOUS_ALT_STOPWORDS.forEach((n=>{e.toLowerCase().indexOf(n)>=0&&(t[1]=n)})),n.PLACEHOLDER_ALT_STOPWORDS.forEach((n=>{e.length===n.length&&e.toLowerCase().indexOf(n)>=0&&(t[2]=n)})),t},this.$img.forEach((e=>{let t=e.getAttribute("alt");if(null===t)e.closest("a[href]")?this.fnIgnore(e.closest("a[href]"),"noscript").textContent.trim().length>=1?(e.classList.add("sa11y-error-border"),e.closest("a[href]").insertAdjacentHTML("beforebegin",this.annotate(n.ERROR,n.MISSING_ALT_LINK_BUT_HAS_TEXT_MESSAGE,!1,!0))):0===this.fnIgnore(e.closest("a[href]"),"noscript").textContent.trim().length&&(e.classList.add("sa11y-error-border"),e.closest("a[href]").insertAdjacentHTML("beforebegin",this.annotate(n.ERROR,n.MISSING_ALT_LINK_MESSAGE,!1,!0))):(e.classList.add("sa11y-error-border"),e.insertAdjacentHTML("beforebegin",this.annotate(n.ERROR,n.MISSING_ALT_MESSAGE,!1,!0)));else{let a=this.sanitizeForHTML(t),s=this.containsAltTextStopWords(a),i=t.length;if(null!==s[0]&&e.closest("a[href]"))this.errorCount++,e.classList.add("sa11y-error-border"),e.closest("a[href]").insertAdjacentHTML("beforebegin",this.annotate(n.ERROR,n.LINK_IMAGE_BAD_ALT_MESSAGE(a,s[0]),!1,!0));else if(null!==s[2]&&e.closest("a[href]"))this.errorCount++,e.classList.add("sa11y-error-border"),e.closest("a[href]").insertAdjacentHTML("beforebegin",this.annotate(n.ERROR,n.LINK_IMAGE_PLACEHOLDER_ALT_MESSAGE(a),!1,!0));else if(null!==s[1]&&e.closest("a[href]"))this.warningCount++,e.classList.add("sa11y-warning-border"),e.closest("a[href]").insertAdjacentHTML("beforebegin",this.annotate(n.WARNING,n.LINK_IMAGE_SUS_ALT_MESSAGE(a,s[1]),!1,!0));else if(null!==s[0])this.errorCount++,e.classList.add("sa11y-error-border"),e.insertAdjacentHTML("beforebegin",this.annotate(n.ERROR,n.LINK_ALT_HAS_BAD_WORD_MESSAGE(a,s[0]),!1,!0));else if(null!==s[2])this.errorCount++,e.classList.add("sa11y-error-border"),e.insertAdjacentHTML("beforebegin",this.annotate(n.ERROR,n.ALT_PLACEHOLDER_MESSAGE(a),!1,!0));else if(null!==s[1])this.warningCount++,e.classList.add("sa11y-warning-border"),e.insertAdjacentHTML("beforebegin",this.annotate(n.WARNING,n.ALT_HAS_SUS_WORD(a,s[1]),!1,!0));else if(""!==t&&" "!==t||!e.closest("a[href]")){if(t.length>250&&e.closest("a[href]"))this.warningCount++,e.classList.add("sa11y-warning-border"),e.closest("a[href]").insertAdjacentHTML("beforebegin",this.annotate(n.WARNING,n.LINK_IMAGE_LONG_ALT(a,i),!1,!0));else if(""!=t&&e.closest("a[href]")&&0===this.fnIgnore(e.closest("a[href]"),"noscript").textContent.trim().length)this.warningCount++,e.classList.add("sa11y-warning-border"),e.closest("a[href]").insertAdjacentHTML("beforebegin",this.annotate(n.WARNING,n.LINK_IMAGE_ALT_WARNING(a),!1,!0));else if(""!==t&&e.closest("a[href]")&&this.fnIgnore(e.closest("a[href]"),"noscript").textContent.trim().length>=1)this.warningCount++,e.classList.add("sa11y-warning-border"),e.closest("a[href]").insertAdjacentHTML("beforebegin",this.annotate(n.WARNING,n.LINK_IMAGE_ALT_AND_TEXT_WARNING(a),!1,!0));else if(""===t||" "===t)if(e.closest("figure")){const t=e.closest("figure").querySelector("figcaption");null!==t&&t.textContent.trim().length>=1&&(this.warningCount++,e.classList.add("sa11y-warning-border"),e.insertAdjacentHTML("beforebegin",this.annotate(n.WARNING,n.IMAGE_FIGURE_DECORATIVE,!1,!0)))}else this.warningCount++,e.classList.add("sa11y-warning-border"),e.insertAdjacentHTML("beforebegin",this.annotate(n.WARNING,n.IMAGE_DECORATIVE,!1,!0));else if(t.length>250)this.warningCount++,e.classList.add("sa11y-warning-border"),e.insertAdjacentHTML("beforebegin",this.annotate(n.WARNING,n.IMAGE_ALT_TOO_LONG(a,i),!1,!0));else if(""!==t)if(e.closest("figure")){let t=e.closest("figure").querySelector("figcaption").textContent,s=t.trim().toLowerCase(),i=a.trim().toLowerCase();null!==t&&s===i?(this.warningCount++,e.classList.add("sa11y-warning-border"),e.insertAdjacentHTML("beforebegin",this.annotate(n.WARNING,n.IMAGE_FIGURE_DUPLICATE_ALT(a),!1,!0))):e.insertAdjacentHTML("beforebegin",this.annotate(n.GOOD,n.IMAGE_PASS(a),!1,!0))}else e.insertAdjacentHTML("beforebegin",this.annotate(n.GOOD,n.IMAGE_PASS(a),!1,!0))}else"-1"==e.closest("a[href]").getAttribute("tabindex")&&"true"==e.closest("a[href]").getAttribute("aria-hidden")||("true"===e.closest("a[href]").getAttribute("aria-hidden")?(this.errorCount++,e.classList.add("sa11y-error-border"),e.closest("a[href]").insertAdjacentHTML("beforebegin",this.annotate(n.ERROR,n.LINK_IMAGE_ARIA_HIDDEN,!1,!0))):0===this.fnIgnore(e.closest("a[href]"),"noscript").textContent.trim().length?(this.errorCount++,e.classList.add("sa11y-error-border"),e.closest("a[href]").insertAdjacentHTML("beforebegin",this.annotate(n.ERROR,n.LINK_IMAGE_NO_ALT_TEXT,!1,!0))):e.closest("a[href]").insertAdjacentHTML("beforebegin",this.annotate(n.GOOD,n.LINK_IMAGE_HAS_TEXT,!1,!0)))}}))},this.checkLabels=()=>{this.$inputs.forEach((e=>{let t=this.computeAriaLabel(e);const a=e.getAttribute("type");if("submit"===a||"button"===a||"hidden"===a);else if("image"===a){let t=e.getAttribute("alt");t&&" "!==t||e.getAttribute("aria-label")||(this.errorCount++,e.classList.add("sa11y-error-border"),e.insertAdjacentHTML("afterend",this.annotate(n.ERROR,n.LABELS_MISSING_IMAGE_INPUT_MESSAGE,!0)))}else if("reset"===a)this.warningCount++,e.classList.add("sa11y-warning-border"),e.insertAdjacentHTML("afterend",this.annotate(n.WARNING,n.LABELS_INPUT_RESET_MESSAGE,!0));else if(e.getAttribute("aria-label")||e.getAttribute("aria-labelledby")||e.getAttribute("title"))if(e.getAttribute("title")){let t=e.getAttribute("title");this.warningCount++,e.classList.add("sa11y-warning-border"),e.insertAdjacentHTML("afterend",this.annotate(n.WARNING,n.LABELS_ARIA_LABEL_INPUT_MESSAGE(t),!0))}else this.warningCount++,e.classList.add("jooa11y-warning-border"),e.insertAdjacentHTML("afterend",this.annotate(n.WARNING,n.LABELS_ARIA_LABEL_INPUT_MESSAGE(t),!0));else if(e.closest("label")&&e.closest("label").textContent.trim());else if(e.getAttribute("id")){const t=this.root.querySelectorAll("label");let a=!1;if(t.forEach((t=>{a||t.getAttribute("for")===e.getAttribute("id")&&(a=!0)})),!a){this.errorCount++,e.classList.add("sa11y-error-border");let t=e.getAttribute("id");e.insertAdjacentHTML("afterend",this.annotate(n.ERROR,n.LABELS_NO_FOR_ATTRIBUTE_MESSAGE(t),!0))}}else this.errorCount++,e.classList.add("sa11y-error-border"),e.insertAdjacentHTML("afterend",this.annotate(n.ERROR,n.LABELS_MISSING_LABEL_MESSAGE,!0))}))},this.checkEmbeddedContent=()=>{!0===e.embeddedContentAudio&&this.$audio.forEach((e=>{this.warningCount++,e.classList.add("sa11y-warning-border"),e.insertAdjacentHTML("beforebegin",this.annotate(n.WARNING,n.EMBED_AUDIO))})),!0===e.embeddedContentVideo&&this.$videos.forEach((e=>{let t=e.getElementsByTagName("TRACK");"VIDEO"===e.tagName&&t.length||(this.warningCount++,e.classList.add("sa11y-warning-border"),e.insertAdjacentHTML("beforebegin",this.annotate(n.WARNING,n.EMBED_VIDEO)))})),!0===e.embeddedContentDataViz&&this.$dataviz.forEach((e=>{this.warningCount++,e.classList.add("sa11y-warning-border"),e.insertAdjacentHTML("beforebegin",this.annotate(n.WARNING,n.EMBED_DATA_VIZ))})),!0===e.embeddedContentTwitter&&this.$twitter.forEach((e=>{e.contentWindow.document.body.querySelectorAll(".timeline-TweetList-tweet").length>3&&(this.warningCount++,e.classList.add("sa11y-warning-border"),e.insertAdjacentHTML("beforebegin",this.annotate(n.WARNING,n.EMBED_TWITTER)))})),!0===e.embeddedContentTitles&&this.$iframes.forEach((e=>{"VIDEO"===e.tagName||"AUDIO"===e.tagName||"true"===e.getAttribute("aria-hidden")||null!==e.getAttribute("hidden")||"none"===e.style.display||"presentation"===e.getAttribute("role")||null!==e.getAttribute("title")&&""!==e.getAttribute("title")||null!==e.getAttribute("aria-label")&&""!==e.getAttribute("aria-label")||null===e.getAttribute("aria-labelledby")&&(e.classList.contains("sa11y-warning-border")&&e.classList.remove("sa11y-warning-border"),this.errorCount++,e.classList.add("sa11y-error-border"),e.insertAdjacentHTML("beforebegin",this.annotate(n.ERROR,n.EMBED_MISSING_TITLE)))})),!0===e.embeddedContentGeneral&&this.$embeddedcontent.forEach((e=>{"VIDEO"===e.tagName||"AUDIO"===e.tagName||"true"===e.getAttribute("aria-hidden")||null!==e.getAttribute("hidden")||"none"===e.style.display||"presentation"===e.getAttribute("role")||"-1"===e.getAttribute("tabindex")||(this.warningCount++,e.classList.add("sa11y-warning-border"),e.insertAdjacentHTML("beforebegin",this.annotate(n.WARNING,n.EMBED_GENERAL_WARNING)))}))},this.checkQA=()=>{if(!0===e.badLinksQA&&this.$badDevLinks.forEach((e=>{this.errorCount++,e.classList.add("sa11y-error-text"),e.insertAdjacentHTML("afterend",this.annotate(n.ERROR,n.QA_BAD_LINK(e),!0))})),!0===e.strongItalicsQA&&this.$strongitalics.forEach((e=>{e.textContent.trim().length>400&&(this.warningCount++,e.insertAdjacentHTML("beforebegin",this.annotate(n.WARNING,n.QA_BAD_ITALICS)))})),!0===e.pdfQA&&this.$checkPDF.forEach(((e,t)=>{let a=this.$checkPDF.length;a>0&&(this.warningCount++,e.classList.add("sa11y-warning-text")),e&&0==t&&(e.insertAdjacentHTML("afterend",this.annotate(n.WARNING,n.QA_PDF(a),!0)),e.querySelector("img")&&e.classList.remove("sa11y-warning-text"))})),!0===e.langQA&&(!this.lang||this.lang.length<2)){this.errorCount++;document.getElementById("sa11y-container").insertAdjacentHTML("afterend",this.annotateBanner(n.ERROR,n.QA_PAGE_LANGUAGE))}if(!0===e.blockquotesQA&&this.$blockquotes.forEach((e=>{let t=e.textContent;t.trim().length<25&&(this.warningCount++,e.classList.add("sa11y-warning-border"),e.insertAdjacentHTML("beforebegin",this.annotate(n.WARNING,n.QA_BLOCKQUOTE_MESSAGE(t))))})),!0===e.tablesQA&&this.$tables.forEach((e=>{let t=e.querySelectorAll("th"),a=e.querySelectorAll("h1, h2, h3, h4, h5, h6");0==t.length&&(this.errorCount++,e.classList.add("sa11y-error-border"),e.insertAdjacentHTML("beforebegin",this.annotate(n.ERROR,n.TABLES_MISSING_HEADINGS))),a.length>0&&(this.errorCount++,a.forEach((e=>{e.classList.add("sa11y-error-border"),e.insertAdjacentHTML("beforebegin",this.annotate(n.ERROR,n.TABLES_SEMANTIC_HEADING))}))),t.forEach((e=>{0==e.textContent.trim().length&&(this.errorCount++,e.classList.add("sa11y-error-border"),e.innerHTML=this.annotate(n.ERROR,n.TABLES_EMPTY_HEADING))}))})),!0===e.fakeHeadingsQA&&(this.$p.forEach((e=>{let t=e.innerHTML.indexOf("</strong><br>"),a=e.innerHTML.indexOf("<br></strong>");if(e&&e.textContent.trim().length>=300){let s=e.firstChild;if("STRONG"===s.tagName&&(-1!==a||-1!==t)){let t=s.textContent;!/[*]$/.test(t)&&!e.closest("table")&&t.length<=120&&(e.classList.add("sa11y-fake-heading","sa11y-warning-border"),e.insertAdjacentHTML("beforebegin",this.annotate(n.WARNING,n.QA_FAKE_HEADING(t))))}}if(/^<(strong)>.+<\/\1>$/.test(e.innerHTML.trim())){const t=e.previousElementSibling;let a="",s=e.textContent;if(null!==t&&(a=t.tagName),!/[*]$/.test(s)&&!e.closest("table")&&s.length<=120&&"H"!==a.charAt(0)){let t=e.textContent;e.classList.add("sa11y-fake-heading","sa11y-warning-border"),e.insertAdjacentHTML("afterend",this.annotate(n.WARNING,n.QA_FAKE_HEADING(t),!0))}}})),document.querySelectorAll(".sa11y-fake-heading").length>0&&this.warningCount++),!0===e.fakeListQA&&(this.$p.forEach((e=>{let t="",a={b:"a",B:"A",2:"1"},s=function(e){return e.replace(/^b|^B|^2/,(function(e){return a[e]}))},i=!1,r=e.textContent.substring(0,2);if(r.trim().length>0&&r!==t&&r.match(/a\.|a\)|A\.|A\)|1\.|1\)|\*\s|-\s|--|\s|\s|\s|\s|\s|\s|\s|\s|\s|\s/)){let a=e.innerHTML.indexOf("<br>");if(-1!==a){r===s(e.innerHTML.substring(a+4).trim().substring(0,2))&&(i=!0)}let l=function(e,t){let n=e.nextElementSibling;if(!t)return n;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}};if(!i){if(l(e,"p")){r===s(e.nextElementSibling.textContent.substring(0,2))&&(i=!0)}}i?(this.warningCount++,e.insertAdjacentHTML("beforebegin",this.annotate(n.WARNING,n.QA_SHOULD_BE_LIST(r)),!1,!0),e.classList.add("sa11y-fake-list"),t=r):t=""}else t=""})),document.querySelectorAll(".sa11y-fake-list").length>0&&this.warningCount++),!0===e.allCapsQA){this.$allcaps.forEach((e=>{let t=e.innerHTML;e.innerHTML=t.replace(/(?!<a[^>]*?>)(\b[A-Z][',!:A-Z\s]{15,}|\b[A-Z]{15,}\b)(?![^<]*?<\/a>)/g,"<span class='sa11y-warning-uppercase'>$1</span>")}));const e=document.querySelectorAll(".sa11y-warning-uppercase");e.forEach((e=>{e.insertAdjacentHTML("afterend",this.annotate(n.WARNING,n.QA_UPPERCASE_WARNING,!0))})),e.length>0&&this.warningCount++}if(!0===e.duplicateIdQA){const e=this.root.querySelectorAll("[id]");let t={},a=!1;e.forEach((e=>{let s=e.id;s&&(void 0===t[s]?t[s]=1:(a=!0,e.classList.add("sa11y-error-border"),e.insertAdjacentHTML("afterend",this.annotate(n.ERROR,n.QA_DUPLICATE_ID(s),!0))))}))}if(!0===e.underlinedTextQA){Array.from(this.root.querySelectorAll("u")).forEach((e=>{this.warningCount++,e.classList.add("sa11y-warning-text"),e.insertAdjacentHTML("beforebegin",this.annotate(n.WARNING,n.QA_TEXT_UNDERLINE_WARNING))}));Array.from(this.root.querySelectorAll("h1, h2, h3, h4, h5, h6, p, div, span, li, blockquote")).forEach((e=>{"underline"===getComputedStyle(e).textDecorationLine&&(this.warningCount++,e.classList.add("sa11y-warning-text"),e.insertAdjacentHTML("beforebegin",this.annotate(n.WARNING,n.QA_TEXT_UNDERLINE_WARNING)))}))}if(!0===e.exampleQA){const e=this.root.querySelectorAll(".sa11y-announcement-component");if(e.length>1){this.warningCount++;for(let t=1;t<e.length;t++)e[t].classList.add("sa11y-warning-border"),e[t].insertAdjacentHTML("beforebegin",this.annotate(n.WARNING,n.QA_TOO_MANY_COMPONENTS_EXAMPLE))}}},this.checkContrast=()=>{let e={errors:[],warnings:[]},t=this.$contrast,a={parseRgb:function(e){let t,n,a,s,i;if(n=e.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(a=n.slice(1,4),t=s=0;s<=2;t=++s)a[t]=+a[t];a[3]=1}else if(n=e.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(a=n.slice(1,5),t=i=0;i<=3;t=++i)a[t]=+a[t];return a},relativeLuminance:function(e){let t=[];for(let n=0;n<3;n++){let a=e[n]/255;t.push(a<.03928?a/12.92:Math.pow((a+.055)/1.055,2.4))}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrastRatio:function(e,t){let n=a.relativeLuminance(a.parseRgb(e)),s=a.relativeLuminance(a.parseRgb(t));return(Math.max(n,s)+.05)/(Math.min(n,s)+.05)},getBackground:function(e){let t=getComputedStyle(e),n=t.backgroundColor,s=t.backgroundImage,i=(a.parseRgb(n)+"").split(",");return i[3]<1&&i[3]>0?"alpha":"rgba(0, 0, 0, 0)"!==n&&"transparent"!==n&&"none"===s&&"0"!==i[3]?n:"none"!==s?"image":"HTML"===e.tagName?"rgb(255, 255, 255)":a.getBackground(e.parentNode)},check:function(){e={errors:[],warnings:[]};for(let n=0;n<t.length;n++)!function(n){let s=t[n];if(a){let t,n,i,r=getComputedStyle(s),l=r.color,o=r.fill,d=3*parseInt(r.fontSize)/4,c=r.fontWeight,u=s.tagName,h=a.getBackground(s),g=[].reduce.call(s.childNodes,(function(e,t){return e+(3===t.nodeType?t.textContent:"")}),"").trim();"SVG"===u?(t=Math.round(100*a.contrastRatio(o,h))/100,t<3&&(n={elem:s,ratio:t+":1"},e.errors.push(n))):(g.length||"INPUT"===u||"SELECT"===u||"TEXTAREA"===u)&&("image"===h||"alpha"===h?(i={elem:s},e.warnings.push(i)):(t=Math.round(100*a.contrastRatio(l,h))/100,d>=18||d>=14&&c>=700?t<3&&(n={elem:s,ratio:t+":1"},e.errors.push(n)):t<4.5&&(n={elem:s,ratio:t+":1"},e.errors.push(n))))}}(n);return e}};a.check(),e.errors.forEach((e=>{let t=e.elem,a=e.ratio,s=t.cloneNode(!0),i=s.querySelectorAll(".sa11y-heading-label");for(let e=0;e<i.length;e++)s.removeChild(i[e]);let r=s.textContent;this.errorCount++,"INPUT"===t.tagName?t.insertAdjacentHTML("beforebegin",this.annotate(n.ERROR,n.CONTRAST_INPUT_ERROR(a))):t.insertAdjacentHTML("beforebegin",this.annotate(n.ERROR,n.CONTRAST_ERROR(a,r)))})),e.warnings.forEach((e=>{let t=e.elem,a=t.cloneNode(!0),s=a.querySelectorAll(".sa11y-heading-label");for(let e=0;e<s.length;e++)a.removeChild(s[e]);let i=a.textContent;this.warningCount++,t.insertAdjacentHTML("beforebegin",this.annotate(n.WARNING,n.CONTRAST_WARNING(i)))}))},this.checkReadability=()=>{function t(e){if((e=e.toLowerCase().replace(".","").replace("\n","")).length<=3)return 1;let t=(e=(e=e.replace(/(?:[^laeiouy]es|ed|[^laeiouy]e)$/,"")).replace(/^y/,"")).match(/[aeiouy]{1,2}/g),n=0;return t&&(n=t.length),n}this.$readability.forEach((e=>{let t=e.textContent;t.length>=120&&"."!==t.charAt(t.length-1)&&e.insertAdjacentHTML("beforeend","<span class='sa11y-readability-period sa11y-visually-hidden'>.</span>")}));let a=[];for(let e=0;e<this.$readability.length;e++){let t=this.$readability[e];""!==t.textContent.replace(/ |\n/g,"")&&a.push(t.textContent)}let s=a.join(" ").trim().toString(),i=s.replace(/[.!?-]+/g," ").split(" "),r=0;for(let e=0;e<i.length;e++)0!=i[e]&&(r+=1);let l=s.split(/[.!?]+/),o=0;for(let e=0;e<l.length;e++)""!==l[e]&&(o+=1);let d,c=0,u=0,h=0;for(let e=0;e<i.length;e++)if(0!=i[e]){let n=t(i[e]);1===n&&(u+=1),2===n&&(h+=1),c+=n}"en"===e.readabilityLang?d=206.835-1.015*r/o-84.6*c/r:"fr"===e.readabilityLang?d=207-1.015*r/o-73.6*c/r:"es"===e.readabilityLang?d=206.84-1.02*r/o-100*c/r*.6:"de"===e.readabilityLang?d=180-r/o-c/r*58.5:"nl"===e.readabilityLang?d=206.84-100*c/r*.77-r/o*.93:"it"===e.readabilityLang&&(d=217-r/o*1.3-100*c/r*.6),d>100?d=100:d<0&&(d=0);const g=document.getElementById("sa11y-readability-info");if(0===s.length)g.innerHTML=n.READABILITY_NO_P_OR_LI_MESSAGE;else if(r>30){let e=d.toFixed(1),t=(r/o).toFixed(1),a=Math.round((r-(u+h))/r*100);g.innerHTML=e>=0&&e<30?`<span>${e}</span> \n\t\t\t\t\t\t<span class="sa11y-readability-score">${n.LANG_VERY_DIFFICULT}</span>`:e>31&&e<49?`<span>${e}</span> \n\t\t\t\t\t\t<span class="sa11y-readability-score">${n.LANG_DIFFICULT}</span>`:e>50&&e<60?`<span>${e}</span> \n\t\t\t\t\t\t<span class="sa11y-readability-score">${n.LANG_FAIRLY_DIFFICULT}</span>`:`<span>${e}</span> \n\t\t\t\t\t\t<span class="sa11y-readability-score">${n.LANG_GOOD}</span>`,document.getElementById("sa11y-readability-details").innerHTML=`<li><span class='sa11y-bold'>${n.LANG_AVG_SENTENCE}</span> ${t}</li>\n\t\t\t\t<li><span class='sa11y-bold'>${n.LANG_COMPLEX_WORDS}</span> ${a}%</li>\n\t\t\t\t<li><span class='sa11y-bold'>${n.LANG_TOTAL_WORDS}</span> ${r}</li>`}else g.textContent=n.READABILITY_NOT_ENOUGH_CONTENT_MESSAGE},this.initialize()}}
//# sourceMappingURL=/sm/648ffb8e783f654ed7b8f472367292b380b163e42c93dd7f292daafc5058805f.map